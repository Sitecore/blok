{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-brandkits",
  "type": "registry:hook",
  "dependencies": [
    "@sitecore/stream-ui-core"
  ],
  "files": [
    {
      "path": "registry/new-york/stream/hooks/use-brandkits.ts",
      "content": "import { useCallback, useEffect, useMemo, useState } from \"react\"\nimport {\n  Brandkit,\n  brandkitListFromApiResponse,\n  brands,\n  getBrandkitDisplayName,\n  getBrandkitTagsByCategory,\n  hasBrandkitLogo,\n  // HTTP error types\n  HTTPError,\n  isDeletedBrandkit,\n  // Domain model utilities\n  isDraftBrandkit,\n  isPublishedBrandkit,\n  ListBrandKitsModelResponse,\n  // Domain types\n  type BrandkitStatus,\n  // HeyAPI generated types\n  type ListBrandKitsApiBrandsV1OrganizationsOrganizationIdBrandkitsGetData,\n} from \"@sitecore/stream-ui-core\"\n\n// Hook options type - using HeyAPI generated types\nexport type UseBrandkitsOptions =\n  ListBrandKitsApiBrandsV1OrganizationsOrganizationIdBrandkitsGetData[\"path\"] &\n    (ListBrandKitsApiBrandsV1OrganizationsOrganizationIdBrandkitsGetData[\"query\"] extends undefined\n      ? {}\n      : ListBrandKitsApiBrandsV1OrganizationsOrganizationIdBrandkitsGetData[\"query\"])\n\nexport interface UseBrandkitsReturn {\n  // Existing properties (unchanged)\n  isLoading: boolean\n  brandkits: Brandkit[]\n  error: Error | null\n  refetch: () => Promise<void>\n\n  // New computed data\n  draftBrandkits: Brandkit[]\n  publishedBrandkits: Brandkit[]\n  totalCount: number\n\n  // New utilities\n  utils: {\n    findByName: (name: string) => Brandkit | undefined\n    filterByStatus: (status: BrandkitStatus) => Brandkit[]\n    filterByTag: (category: string, value: string) => Brandkit[]\n    getDisplayNames: () => string[]\n    summary: () => {\n      total: number\n      drafts: number\n      published: number\n      deleted: number\n      withLogos: number\n    }\n  }\n}\n\n/**\n * Hook to fetch brandkits from the API with enhanced utilities and computed properties.\n *\n * @param options - Configuration options for the API request\n * @param options.organizationId - Required organization ID for the request\n * @param options.pageSize - Number of brandkits to fetch per page (default: 50)\n * @param options.pageNumber - Page number to fetch (default: 1)\n * @param options.search - Search term to filter brandkits\n * @param options.status - Filter by brandkit status\n * @param options.includeDeleted - Whether to include deleted brandkits\n * @param options.parentId - Filter by parent brandkit ID\n * @param options.referenceType - Filter by reference type\n * @param options.referenceId - Filter by reference ID\n * @returns Object containing the brandkits data, loading state, error state, computed properties, and utility functions\n *\n * @example\n * // Basic usage\n * const { brandkits, isLoading, error } = useBrandkits({\n *   organizationId: 'org-123',\n *   pageSize: 10,\n *   pageNumber: 1,\n * });\n *\n * // Enhanced usage with computed properties\n * const {\n *   brandkits,\n *   draftBrandkits,\n *   publishedBrandkits,\n *   totalCount,\n *   utils,\n *   isLoading\n * } = useBrandkits({\n *   organizationId: 'org-123',\n *   pageSize: 20\n * });\n *\n * // Using utility functions\n * const brandkitByName = utils.findByName('My Brandkit');\n * const draftBrandkits = utils.filterByStatus('draft');\n * const industryBrandkits = utils.filterByTag('industry', 'technology');\n * const displayNames = utils.getDisplayNames();\n * const summary = utils.summary();\n *\n * // Using computed properties\n * console.log(`Total brandkits: ${totalCount}`);\n * console.log(`Draft brandkits: ${draftBrandkits.length}`);\n * console.log(`Published brandkits: ${publishedBrandkits.length}`);\n */\nexport function useBrandkits(\n  options?: UseBrandkitsOptions\n): UseBrandkitsReturn {\n  const [brandkits, setBrandkits] = useState<Brandkit[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<Error | null>(null)\n\n  const fetchBrandkits = useCallback(async () => {\n    if (!options?.organizationId) {\n      console.error(\n        \"useBrandkits: organizationId is required but was not provided\"\n      )\n      setIsLoading(false)\n      setBrandkits([])\n      setError(null)\n      return\n    }\n\n    try {\n      setIsLoading(true)\n      setError(null)\n\n      const response =\n        await brands.listBrandKitsApiBrandsV1OrganizationsOrganizationIdBrandkitsGet(\n          {\n            path: { organizationId: options?.organizationId || \"\" },\n            query: {\n              pageSize: options?.pageSize || 50,\n              pageNumber: options?.pageNumber || 1,\n              search: options?.search,\n              status: options?.status,\n              includeDeleted: options?.includeDeleted,\n              parentId: options?.parentId,\n              referenceType: options?.referenceType,\n              referenceId: options?.referenceId,\n            },\n          }\n        )\n\n      const fetchedBrandkits = response.data\n        ? brandkitListFromApiResponse(\n            response.data as ListBrandKitsModelResponse\n          )\n        : []\n\n      setBrandkits(fetchedBrandkits)\n    } catch (err) {\n      console.error(\"Brandkits fetch error:\", err)\n\n      // Handle ky HTTPError specifically\n      if (err instanceof HTTPError) {\n        setError(\n          new Error(\n            `API Error: ${err.response.status} - ${err.response.statusText}`\n          )\n        )\n      } else {\n        setError(\n          err instanceof Error ? err : new Error(\"Failed to fetch brandkits\")\n        )\n      }\n      setBrandkits([])\n    } finally {\n      setIsLoading(false)\n    }\n  }, [\n    options?.organizationId,\n    options?.pageSize,\n    options?.search,\n    options?.status,\n    options?.includeDeleted,\n  ])\n\n  useEffect(() => {\n    if (options?.organizationId) {\n      fetchBrandkits()\n    } else {\n      console.error(\n        \"useBrandkits: organizationId is required but was not provided\"\n      )\n\n      setIsLoading(false)\n      setBrandkits([])\n      setError(null)\n    }\n  }, [\n    options?.organizationId,\n    options?.pageSize,\n    options?.pageNumber,\n    options?.search,\n    options?.status,\n    options?.includeDeleted,\n    options?.parentId,\n    options?.referenceType,\n    options?.referenceId,\n  ])\n\n  // Computed values with useMemo for performance\n  const draftBrandkits = useMemo(\n    () => brandkits.filter(isDraftBrandkit),\n    [brandkits]\n  )\n\n  const publishedBrandkits = useMemo(\n    () => brandkits.filter(isPublishedBrandkit),\n    [brandkits]\n  )\n\n  // Context-aware utilities object\n  const utils = useMemo(\n    () => ({\n      /**\n       * Find a brandkit by name (case-insensitive search)\n       * @param name - The name to search for\n       * @returns The matching brandkit or undefined\n       */\n      findByName: (name: string): Brandkit | undefined => {\n        const searchName = name.toLowerCase()\n        return brandkits.find((brandkit) =>\n          getBrandkitDisplayName(brandkit).toLowerCase().includes(searchName)\n        )\n      },\n\n      /**\n       * Filter brandkits by status\n       * @param status - The status to filter by\n       * @returns Array of brandkits with the specified status\n       */\n      filterByStatus: (status: BrandkitStatus): Brandkit[] => {\n        return brandkits.filter((brandkit) => brandkit.status === status)\n      },\n\n      /**\n       * Filter brandkits by tag category and value\n       * @param category - The tag category to filter by\n       * @param value - The tag value to filter by\n       * @returns Array of brandkits that have the specified tag\n       */\n      filterByTag: (category: string, value: string): Brandkit[] => {\n        return brandkits.filter((brandkit) => {\n          const brandkitTags = getBrandkitTagsByCategory(brandkit, category)\n          return brandkitTags.includes(value)\n        })\n      },\n\n      /**\n       * Get display names for all brandkits\n       * @returns Array of display names\n       */\n      getDisplayNames: (): string[] => {\n        return brandkits.map(getBrandkitDisplayName)\n      },\n\n      /**\n       * Get summary statistics for the brandkits collection\n       * @returns Object with counts for different brandkit states\n       */\n      summary: () => {\n        const total = brandkits.length\n        const drafts = brandkits.filter(isDraftBrandkit).length\n        const published = brandkits.filter(isPublishedBrandkit).length\n        const deleted = brandkits.filter(isDeletedBrandkit).length\n        const withLogos = brandkits.filter(hasBrandkitLogo).length\n\n        return {\n          total,\n          drafts,\n          published,\n          deleted,\n          withLogos,\n        }\n      },\n    }),\n    [brandkits]\n  )\n\n  return {\n    // Existing return values (unchanged)\n    isLoading,\n    brandkits,\n    error,\n    refetch: fetchBrandkits,\n\n    // New computed values\n    draftBrandkits,\n    publishedBrandkits,\n    totalCount: brandkits.length,\n\n    // New utilities\n    utils,\n  }\n}\n\n// Re-export domain utilities for better developer experience\nexport {\n  isDraftBrandkit,\n  isPublishedBrandkit,\n  isDeletedBrandkit,\n  isLockedBrandkit,\n  getBrandkitDisplayName,\n  hasBrandkitLogo,\n  getBrandkitTagsByCategory,\n  createBrandkit,\n  type BrandkitStatus,\n  type Tag,\n  type BrandkitReference,\n} from \"@sitecore/stream-ui-core\"\n",
      "type": "registry:hook"
    },
    {
      "path": "registry/new-york/stream/hooks/use-brandkits/page.tsx",
      "content": "\"use client\"\n\nimport { createBrandkit } from \"@sitecore/stream-ui-core\"\n\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n} from \"@/registry/new-york/ui/card\"\n\n// Mock data for demo\nconst mockBrandkits = [\n  createBrandkit({\n    id: \"1\",\n    organizationId: \"org-123\",\n    name: \"Sitecore Brand\",\n    logo: \"https://example.com/sitecore-logo.png\",\n    status: \"published\",\n    brandName: \"Sitecore\",\n    companyName: \"Sitecore\",\n    industry: \"Technology\",\n  }),\n  createBrandkit({\n    id: \"2\",\n    organizationId: \"org-123\",\n    name: \"Marketing Kit\",\n    logo: \"https://example.com/marketing-logo.png\",\n    status: \"draft\",\n    brandName: \"Marketing\",\n    companyName: \"Marketing Corp\",\n    industry: \"Marketing\",\n  }),\n  createBrandkit({\n    id: \"3\",\n    organizationId: \"org-123\",\n    name: \"Design System\",\n    logo: \"\",\n    status: \"published\",\n    brandName: \"Design\",\n    companyName: \"Design Inc\",\n    industry: \"Design\",\n  }),\n]\n\nexport default function UseBrandkitsPage() {\n  return (\n    <div className=\"container mx-auto p-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>useBrandkits Hook</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div>\n              <h3 className=\"mb-2 text-lg font-semibold\">Hook Overview</h3>\n              <p className=\"text-muted-foreground\">\n                The useBrandkits hook provides a comprehensive way to fetch and\n                manage brandkit data with built-in utilities and computed\n                properties.\n              </p>\n            </div>\n\n            <div>\n              <h3 className=\"mb-2 text-lg font-semibold\">Mock Data</h3>\n              <div className=\"grid gap-2\">\n                {mockBrandkits.map((brandkit) => (\n                  <div key={brandkit.id} className=\"rounded border p-3\">\n                    <div className=\"font-medium\">{brandkit.name}</div>\n                    <div className=\"text-muted-foreground text-sm\">\n                      Status: {brandkit.status} | Industry: {brandkit.industry}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div>\n              <h3 className=\"mb-2 text-lg font-semibold\">Usage Example</h3>\n              <pre className=\"bg-muted overflow-x-auto rounded p-4 text-sm\">\n                {`// Basic usage\nconst { brandkits, isLoading, error } = useBrandkits({\n  organizationId: 'org-123',\n  pageSize: 10,\n  pageNumber: 1,\n});\n\n// Enhanced usage with computed properties\nconst {\n  brandkits,\n  draftBrandkits,\n  publishedBrandkits,\n  totalCount,\n  utils,\n  isLoading\n} = useBrandkits({\n  organizationId: 'org-123',\n  pageSize: 20\n});\n\n// Using utility functions\nconst brandkitByName = utils.findByName('My Brandkit');\nconst draftBrandkits = utils.filterByStatus('draft');\nconst industryBrandkits = utils.filterByTag('industry', 'technology');\nconst displayNames = utils.getDisplayNames();\nconst summary = utils.summary();`}\n              </pre>\n            </div>\n\n            <div>\n              <h3 className=\"mb-2 text-lg font-semibold\">Features</h3>\n              <ul className=\"list-inside list-disc space-y-1 text-sm\">\n                <li>Fetch brandkits with pagination and filtering</li>\n                <li>\n                  Computed properties: draftBrandkits, publishedBrandkits,\n                  totalCount\n                </li>\n                <li>Utility functions for filtering and searching</li>\n                <li>Error handling and loading states</li>\n                <li>Automatic refetch capabilities</li>\n                <li>Type-safe with TypeScript</li>\n              </ul>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n",
      "type": "registry:page",
      "target": "app/hooks/use-brandkits/page.tsx"
    }
  ],
  "categories": [
    "stream",
    "hooks",
    "brandkit"
  ]
}
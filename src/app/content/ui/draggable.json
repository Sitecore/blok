{
    "Default": "\"use client\";\n\nimport * as React from \"react\";\nimport { DragDropProvider, useDragDropContext } from \"@/components/ui/drag-drop-context\";\nimport { Draggable } from \"@/components/ui/draggable\";\nimport { Droppable } from \"@/components/ui/droppable\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Move, ArrowRight, CheckCircle2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nfunction DragDropDemo() {\n  const { manager } = useDragDropContext();\n  const appRef = React.useRef<HTMLDivElement>(null);\n  const sourceContainerRef = React.useRef<HTMLDivElement>(null);\n  const droppableRef = React.useRef<HTMLDivElement>(null);\n  const [isDragging, setIsDragging] = React.useState(false);\n  const [isDropped, setIsDropped] = React.useState(false);\n\n  React.useEffect(() => {\n    const handleDragStart = (event: any) => {\n      if (event.operation.source?.id === \"draggable-button\") {\n        setIsDragging(true);\n      }\n    };\n\n    const handleDragEnd = (event: any) => {\n      const { operation, canceled } = event;\n      const { source, target } = operation;\n\n      setIsDragging(false);\n\n      if (canceled) return;\n\n      if (!source?.element || !(source.element instanceof HTMLElement)) return;\n\n      if (target && target.id === \"droppable-container\" && droppableRef.current) {\n        droppableRef.current.appendChild(source.element);\n        setIsDropped(true);\n      } else if (sourceContainerRef.current) {\n        sourceContainerRef.current.insertBefore(source.element, sourceContainerRef.current.firstChild);\n        setIsDropped(false);\n      }\n    };\n\n    manager.monitor.addEventListener(\"dragstart\", handleDragStart);\n    manager.monitor.addEventListener(\"dragend\", handleDragEnd);\n\n    return () => {\n      manager.monitor.removeEventListener(\"dragstart\", handleDragStart);\n      manager.monitor.removeEventListener(\"dragend\", handleDragEnd);\n    };\n  }, [manager]);\n\n  return (\n    <div ref={appRef} className=\"p-6 space-y-6\">\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center gap-2\">\n          <h3 className=\"text-2xl font-semibold tracking-tight\">Basic Drag & Drop</h3>\n        </div>\n        <p className=\"text-sm text-muted-foreground\">\n          Drag the button from the source area to the drop zone. The element will move between containers.\n        </p>\n      </div>\n\n      <div className=\"flex flex-col md:flex-row gap-6 items-start\">\n        <div className=\"flex-shrink-0\">\n          <div className=\"mb-3 text-xs font-medium text-muted-foreground uppercase tracking-wide\">\n            Source\n          </div>\n          <Card className=\"w-64 p-4 bg-gradient-to-br from-background to-muted/30 border-2 border-dashed border-muted\">\n            <CardContent className=\"p-0\">\n              <div ref={sourceContainerRef} className=\"space-y-3\">\n                <Draggable id=\"draggable-button\">\n                  <Button\n                    className={cn(\n                      \"w-full cursor-grab active:cursor-grabbing shadow-md hover:shadow-lg transition-all duration-200\",\n                      \"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary\",\n                      isDragging && \"opacity-50 scale-95\"\n                    )}\n                    size=\"lg\"\n                  >\n                    <Move className=\"mr-2 h-4 w-4\" />\n                    draggable\n                  </Button>\n                </Draggable>\n                {!isDropped && (\n                  <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                    <ArrowRight className=\"h-3 w-3\" />\n                    <span>Drag me to the drop zone</span>\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"mb-3 text-xs font-medium text-muted-foreground uppercase tracking-wide\">\n            Drop Zone\n          </div>\n          <Droppable\n            id=\"droppable-container\"\n            className={cn(\n              \"w-full min-h-[280px] rounded-xl border-2 border-dashed p-8 flex items-center justify-center transition-all duration-200\",\n              \"bg-gradient-to-br from-muted/20 to-muted/10\",\n              \"hover:from-muted/30 hover:to-muted/20\",\n              \"data-[drop-target=true]:border-primary data-[drop-target=true]:bg-primary/5 data-[drop-target=true]:shadow-lg data-[drop-target=true]:shadow-primary/10\"\n            )}\n          >\n            <div ref={droppableRef} className=\"w-full h-full flex flex-col items-center justify-center gap-4\">\n              {isDropped ? (\n                <div className=\"text-center space-y-3 animate-in fade-in duration-300\">\n                  <div className=\"mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center\">\n                    <CheckCircle2 className=\"h-8 w-8 text-primary\" />\n                  </div>\n                  <div>\n                    <p className=\"font-semibold text-sm\">Successfully Dropped!</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Drag the button again to move it back\n                    </p>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-center space-y-3\">\n                  <div className=\"mx-auto w-16 h-16 rounded-full bg-muted flex items-center justify-center transition-transform duration-200 group-hover:scale-110\">\n                    <Move className=\"h-8 w-8 text-muted-foreground\" />\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-sm text-muted-foreground\">Drop Zone</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Release the button here to drop it\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </Droppable>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function DefaultDemo() {\n  return (\n    <DragDropProvider>\n      <DragDropDemo />\n    </DragDropProvider>\n  );\n}",

    "Basic Drag and Drop": "\"use client\";\n\nimport * as React from \"react\";\nimport { DragDropProvider, useDragDropContext } from \"@/components/ui/drag-drop-context\";\nimport { Draggable } from \"@/components/ui/draggable\";\nimport { Droppable } from \"@/components/ui/droppable\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Move, ArrowRight, CheckCircle2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nfunction DragDropDemo() {\n  const { manager } = useDragDropContext();\n  const appRef = React.useRef<HTMLDivElement>(null);\n  const sourceContainerRef = React.useRef<HTMLDivElement>(null);\n  const droppableRef = React.useRef<HTMLDivElement>(null);\n  const [isDragging, setIsDragging] = React.useState(false);\n  const [isDropped, setIsDropped] = React.useState(false);\n\n  React.useEffect(() => {\n    const handleDragStart = (event: any) => {\n      if (event.operation.source?.id === \"draggable-button\") {\n        setIsDragging(true);\n      }\n    };\n\n    const handleDragEnd = (event: any) => {\n      const { operation, canceled } = event;\n      const { source, target } = operation;\n\n      setIsDragging(false);\n\n      if (canceled) return;\n\n      if (!source?.element || !(source.element instanceof HTMLElement)) return;\n\n      if (target && target.id === \"droppable-container\" && droppableRef.current) {\n        droppableRef.current.appendChild(source.element);\n        setIsDropped(true);\n      } else if (sourceContainerRef.current) {\n        sourceContainerRef.current.insertBefore(source.element, sourceContainerRef.current.firstChild);\n        setIsDropped(false);\n      }\n    };\n\n    manager.monitor.addEventListener(\"dragstart\", handleDragStart);\n    manager.monitor.addEventListener(\"dragend\", handleDragEnd);\n\n    return () => {\n      manager.monitor.removeEventListener(\"dragstart\", handleDragStart);\n      manager.monitor.removeEventListener(\"dragend\", handleDragEnd);\n    };\n  }, [manager]);\n\n  return (\n    <div ref={appRef} className=\"p-6 space-y-6\">\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center gap-2\">\n          <h3 className=\"text-2xl font-semibold tracking-tight\">Basic Drag & Drop</h3>\n        </div>\n        <p className=\"text-sm text-muted-foreground\">\n          Drag the button from the source area to the drop zone. The element will move between containers.\n        </p>\n      </div>\n\n      <div className=\"flex flex-col md:flex-row gap-6 items-start\">\n        <div className=\"flex-shrink-0\">\n          <div className=\"mb-3 text-xs font-medium text-muted-foreground uppercase tracking-wide\">\n            Source\n          </div>\n          <Card className=\"w-64 p-4 bg-gradient-to-br from-background to-muted/30 border-2 border-dashed border-muted\">\n            <CardContent className=\"p-0\">\n              <div ref={sourceContainerRef} className=\"space-y-3\">\n                <Draggable id=\"draggable-button\">\n                  <Button\n                    className={cn(\n                      \"w-full cursor-grab active:cursor-grabbing shadow-md hover:shadow-lg transition-all duration-200\",\n                      \"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary\",\n                      isDragging && \"opacity-50 scale-95\"\n                    )}\n                    size=\"lg\"\n                  >\n                    <Move className=\"mr-2 h-4 w-4\" />\n                    draggable\n                  </Button>\n                </Draggable>\n                {!isDropped && (\n                  <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                    <ArrowRight className=\"h-3 w-3\" />\n                    <span>Drag me to the drop zone</span>\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"mb-3 text-xs font-medium text-muted-foreground uppercase tracking-wide\">\n            Drop Zone\n          </div>\n          <Droppable\n            id=\"droppable-container\"\n            className={cn(\n              \"w-full min-h-[280px] rounded-xl border-2 border-dashed p-8 flex items-center justify-center transition-all duration-200\",\n              \"bg-gradient-to-br from-muted/20 to-muted/10\",\n              \"hover:from-muted/30 hover:to-muted/20\",\n              \"data-[drop-target=true]:border-primary data-[drop-target=true]:bg-primary/5 data-[drop-target=true]:shadow-lg data-[drop-target=true]:shadow-primary/10\"\n            )}\n          >\n            <div ref={droppableRef} className=\"w-full h-full flex flex-col items-center justify-center gap-4\">\n              {isDropped ? (\n                <div className=\"text-center space-y-3 animate-in fade-in duration-300\">\n                  <div className=\"mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center\">\n                    <CheckCircle2 className=\"h-8 w-8 text-primary\" />\n                  </div>\n                  <div>\n                    <p className=\"font-semibold text-sm\">Successfully Dropped!</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Drag the button again to move it back\n                    </p>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-center space-y-3\">\n                  <div className=\"mx-auto w-16 h-16 rounded-full bg-muted flex items-center justify-center transition-transform duration-200 group-hover:scale-110\">\n                    <Move className=\"h-8 w-8 text-muted-foreground\" />\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-sm text-muted-foreground\">Drop Zone</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Release the button here to drop it\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </Droppable>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function BasicDragAndDropDemo() {\n  return (\n    <DragDropProvider>\n      <DragDropDemo />\n    </DragDropProvider>\n  );\n}",

    "Sortable List": "\"use client\";\n\nimport * as React from \"react\";\nimport { Sortable as DndSortable } from \"@dnd-kit/dom/sortable\";\nimport { DragDropProvider, useDragDropContext } from \"@/components/ui/drag-drop-context\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { cn } from \"@/lib/utils\";\n\nfunction SortableListContent() {\n  const { manager } = useDragDropContext();\n  const [items, setItems] = React.useState([\n    { id: 1, name: \"Design System\" },\n    { id: 2, name: \"API Integration\" },\n    { id: 3, name: \"User Testing\" },\n  ]);\n\n  const cardColors = [\n    \"bg-info-bg border-border\",\n    \"bg-success-bg border-border\",\n    \"bg-warning-bg border-border\",\n  ];\n\n  const itemRefs = React.useRef<Map<number, HTMLElement>>(new Map());\n  const sortableRefs = React.useRef<Map<number, DndSortable>>(new Map());\n  const [dragStates, setDragStates] = React.useState<Map<number, { isDragging: boolean; isDropTarget: boolean }>>(new Map());\n\n  React.useEffect(() => {\n    const states = new Map<number, { isDragging: boolean; isDropTarget: boolean }>();\n    items.forEach((item) => {\n      states.set(item.id, { isDragging: false, isDropTarget: false });\n    });\n    setDragStates(states);\n  }, [items]);\n\n  React.useEffect(() => {\n    const sortables = sortableRefs.current;\n    const elements = itemRefs.current;\n\n    items.forEach((item, index) => {\n      const element = elements.get(item.id);\n      if (!element) return;\n\n      if (sortables.has(item.id)) {\n        const sortable = sortables.get(item.id)!;\n        sortable.index = index;\n        return;\n      }\n\n      const sortable = new DndSortable(\n        {\n          id: item.id,\n          index,\n          element,\n        },\n        manager\n      );\n\n      sortables.set(item.id, sortable);\n    });\n\n    const currentIds = new Set(items.map((item) => item.id));\n    for (const [id, sortable] of sortables.entries()) {\n      if (!currentIds.has(id)) {\n        sortable.destroy();\n        sortables.delete(id);\n      }\n    }\n\n    const handleDragStart = () => {\n      setDragStates((prev) => {\n        const next = new Map(prev);\n        let changed = false;\n        for (const [id, sortable] of sortables.entries()) {\n          const state = next.get(id)!;\n          const isDragging = sortable.isDragging;\n          if (state.isDragging !== isDragging) {\n            next.set(id, { ...state, isDragging });\n            changed = true;\n          }\n        }\n        return changed ? next : prev;\n      });\n    };\n\n    const handleDragMove = () => {\n      setDragStates((prev) => {\n        const next = new Map(prev);\n        let changed = false;\n        for (const [id, sortable] of sortables.entries()) {\n          const state = next.get(id)!;\n          const isDragging = sortable.isDragging;\n          const isDropTarget = sortable.isDropTarget;\n          if (state.isDragging !== isDragging || state.isDropTarget !== isDropTarget) {\n            next.set(id, { isDragging, isDropTarget });\n            changed = true;\n          }\n        }\n        return changed ? next : prev;\n      });\n    };\n\n    const handleDragEnd = (\n      event: Parameters<\n        NonNullable<Parameters<typeof manager.monitor.addEventListener<\"dragend\">>[1]>\n      >[0]\n    ) => {\n      setDragStates((prev) => {\n        const next = new Map(prev);\n        let changed = false;\n        for (const [id] of next.entries()) {\n          const state = next.get(id)!;\n          if (state.isDragging || state.isDropTarget) {\n            next.set(id, { isDragging: false, isDropTarget: false });\n            changed = true;\n          }\n        }\n        return changed ? next : prev;\n      });\n\n      if (event.canceled) return;\n      if (!event.operation.target) return;\n      if (!event.operation.source) return;\n\n      const sourceId = event.operation.source.id as number;\n      const targetId = event.operation.target.id as number;\n\n      const sourceIndex = items.findIndex((item) => item.id === sourceId);\n      const targetIndex = items.findIndex((item) => item.id === targetId);\n\n      if (sourceIndex === -1 || targetIndex === -1) return;\n      if (sourceIndex === targetIndex) return;\n\n      const newItems = [...items];\n      const [movedItem] = newItems.splice(sourceIndex, 1);\n      newItems.splice(targetIndex, 0, movedItem);\n\n      setItems(newItems);\n      console.log(\"New order:\", newItems);\n    };\n\n    manager.monitor.addEventListener(\"dragstart\", handleDragStart);\n    manager.monitor.addEventListener(\"dragmove\", handleDragMove);\n    manager.monitor.addEventListener(\"dragend\", handleDragEnd);\n\n    return () => {\n      manager.monitor.removeEventListener(\"dragstart\", handleDragStart);\n      manager.monitor.removeEventListener(\"dragmove\", handleDragMove);\n      manager.monitor.removeEventListener(\"dragend\", handleDragEnd);\n\n      for (const sortable of sortables.values()) {\n        sortable.destroy();\n      }\n      sortables.clear();\n    };\n  }, [manager, items]);\n\n  return (\n    <div className=\"space-y-2\">\n      {items.map((item, index) => {\n        const state = dragStates.get(item.id) || { isDragging: false, isDropTarget: false };\n        const elementRef = (el: HTMLElement | null) => {\n          if (el) {\n            itemRefs.current.set(item.id, el);\n          } else {\n            itemRefs.current.delete(item.id);\n          }\n        };\n\n        return (\n          <div\n            key={item.id}\n            ref={elementRef}\n            data-sortable-id={item.id}\n            data-sortable-index={index}\n            data-dragging={state.isDragging}\n            data-drop-target={state.isDropTarget}\n            className={cn(\n              \"transition-transform duration-200\",\n              state.isDragging && \"opacity-50 cursor-grabbing\",\n              !state.isDragging && \"cursor-grab\",\n              state.isDropTarget && \"ring-2 ring-primary\"\n            )}\n          >\n            <Card className={`${cardColors[index]} hover:shadow-sm transition-all duration-200`}>\n              <CardContent className=\"p-2.5\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"flex-shrink-0 w-5 h-5 rounded-full bg-card flex items-center justify-center text-[10px] font-semibold text-foreground\">\n                    {index + 1}\n                  </span>\n                  <p className=\"font-medium text-xs\">{item.name}</p>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default function SortableListDemo() {\n  return (\n    <DragDropProvider>\n      <div className=\"p-6 space-y-6\">\n        <div>\n          <h3 className=\"text-2xl font-semibold tracking-tight\">Sortable List</h3>\n        </div>\n\n        <div className=\"max-w-2xl\">\n          <SortableListContent />\n        </div>\n      </div>\n    </DragDropProvider>\n  );\n}",

    "Custom Handle": "\"use client\";\n\nimport * as React from \"react\";\nimport { DragDropProvider } from \"@/components/ui/drag-drop-context\";\nimport { Sortable } from \"@/components/ui/sortable\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { GripVertical } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\nexport default function CustomHandleDemo() {\n  const items = [\n    { id: \"A\", name: \"Project Alpha\" },\n    { id: \"B\", name: \"Project Beta\" },\n    { id: \"C\", name: \"Project Gamma\" },\n  ];\n\n  const cardColors = [\n    \"bg-info-bg border-border\",\n    \"bg-success-bg border-border\",\n    \"bg-warning-bg border-border\",\n  ];\n\n  return (\n    <DragDropProvider>\n      <div className=\"p-6 space-y-6\">\n        <div>\n          <h3 className=\"text-2xl font-semibold tracking-tight\">Custom Drag Handle</h3>\n        </div>\n\n        <div className=\"max-w-2xl space-y-2\">\n          {items.map((item, index) => {\n            const handleRef = React.useRef<HTMLDivElement>(null);\n            return (\n              <Sortable\n                key={item.id}\n                id={item.id}\n                index={index}\n                handle={handleRef as React.RefObject<HTMLElement>}\n              >\n                <Card className={`${cardColors[index]} group hover:shadow-sm transition-all duration-200`}>\n                  <CardContent className=\"p-2.5\">\n                    <div className=\"flex items-center gap-2\">\n                      <div\n                        ref={handleRef}\n                        className={cn(\n                          \"flex-shrink-0 w-6 h-6 rounded flex items-center justify-center\",\n                          \"cursor-grab active:cursor-grabbing\",\n                          \"bg-card hover:bg-muted\",\n                          \"text-muted-foreground hover:text-foreground\",\n                          \"transition-all duration-200\"\n                        )}\n                      >\n                        <GripVertical className=\"h-3.5 w-3.5\" />\n                      </div>\n                      <p className=\"font-medium text-xs\">{item.name}</p>\n                    </div>\n                  </CardContent>\n                </Card>\n              </Sortable>\n            );\n          })}\n        </div>\n      </div>\n    </DragDropProvider>\n  );\n}"
}

